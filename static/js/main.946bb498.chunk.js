(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{188:function(e){e.exports=JSON.parse('{"words":["STORM","ROUGH","WELSH","BASED","GOING","AGREE","BRAIN","ARRAY","SORRY","ALPHA","IDIOT","CREEK","EXIST","SPEED","BLAKE","CHINA","GRANT","QUEST","ARENA","SIZED","SPEAK","VALVE","BEGIN","ROUTE","FORTY","LYING","BACON","SWIFT","SOLVE","STEAM","LIVED","PUNCH","EVERY","MATCH","BRING","WOULD","VISIT","WORRY","GLORY","LARRY","JAPAN","LIVER","BASIS","MINOR","EXACT","ADULT","SADLY","OCEAN","SLIDE","STOCK","WHITE","SUPER","TRICK","BASES","STOOD","DEPTH","SMILE","GAINS","QUEEN","BLOOD","ENTER","OFTEN","DELAY","MERCY","FORTH","FAULT","BEGUN","STAYS","EMPTY","MODEL","BLUES","GREAT","NAKED","CABIN","LATER","FOCUS","FRONT","WORLD","PROVE","ANGLE","COVER","ALIVE","CHOSE","DRESS","SWISS","DEALT","MOTOR","SMART","GREEN","ERROR","TRAIL","SHAME","SKULL","FIFTH","INPUT","DREAM","ULTRA","FIGHT","LAURA","TOXIC"]}')},194:function(e,t,n){e.exports=n(471)},199:function(e,t,n){},210:function(e,t){},235:function(e,t){},237:function(e,t){},308:function(e,t){},310:function(e,t){},319:function(e,t){},321:function(e,t){},346:function(e,t){},351:function(e,t){},353:function(e,t){},360:function(e,t){},378:function(e,t){},464:function(e){e.exports=JSON.parse("{}")},471:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(186),s=n.n(c),u=(n(199),n(5)),l=n.n(u),o=n(11),i=n(30),d=n(12),m=(n(93),n(62)),f=n.n(m),E=function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("complete"===document.readyState){e.next=5;break}return e.next=3,new Promise((function(e){return setTimeout(e,100)}));case 3:e.next=0;break;case 5:return e.abrupt("return",window.ethereum);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:return(t=e.sent)?n=new f.a(t):window.web3?n=window.web3:(a=new f.a.providers.HttpProvider("http://127.0.0.1:8545"),n=new f.a(a)),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=Object(a.createContext)(),p=["gray-cell","yellow-cell","green-cell","white-cell"],g=function(e){for(var t=e.guess,n=e.result,a=(e.id,[]),c=0;c<5;c++)a.push(p[null!=n?n[c]:3]);return t?r.a.createElement("tr",null,r.a.createElement("td",{className:a[0]},t[0]),r.a.createElement("td",{className:a[1]},t[1]),r.a.createElement("td",{className:a[2]},t[2]),r.a.createElement("td",{className:a[3]},t[3]),r.a.createElement("td",{className:a[4]},t[4])):r.a.createElement("tr",null,r.a.createElement("td",{className:"white-cell"}),r.a.createElement("td",{className:"white-cell"}),r.a.createElement("td",{className:"white-cell"}),r.a.createElement("td",{className:"white-cell"}),r.a.createElement("td",{className:"white-cell"}))},w=function(e){var t=e.guesses,n=e.results;return r.a.createElement("table",null,r.a.createElement("tbody",null,[0,1,2,3,4,5].map((function(e){return e<t.length?r.a.createElement(g,{key:e,id:e,guess:t[e],result:n[e]}):r.a.createElement(g,{key:e,id:e,guess:null,result:null})}))))},O=n(188);var v=function(){var e=Object(a.useState)([0,1,0,0,0,2,2]),t=Object(d.a)(e,2),n=t[0];t[1];return Object(a.useEffect)((function(){console.log("UseEffect")}),[]),r.a.createElement("table",{id:"cryptle-logo-container"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:p[n[0]]},"C"),r.a.createElement("td",{className:p[n[1]]},"R"),r.a.createElement("td",{className:p[n[2]]},"Y"),r.a.createElement("td",{className:p[n[3]]},"P"),r.a.createElement("td",{className:p[n[4]]},"T"),r.a.createElement("td",{className:p[n[5]]},"L"),r.a.createElement("td",{className:p[n[6]]},"E"))))},S=(n(464),function(e){return null!==e&&void 0!==e&&e.length>0}),N=function(){var e=Object(a.useContext)(h),t=function(e){switch(Number(e)){case 1:return"Ethereum";case 4:return"Rinkeby";case 137:return"Polygon";case 8001:return"Polygon-Mumbai";case 43114:return"Avalanche-C";case 43113:return"Avalanche-Fuji";default:return"Unknown"}}(e.getChainId());return r.a.createElement("header",{id:"header"},r.a.createElement("span",{id:"chain-id",className:t},t),r.a.createElement("span",{id:"active-account"},e.getActiveAccount().substr(0,10)))},x=function(){return r.a.createElement("div",{id:"loading"},"Loading ...")},R=function(){var e=Object(a.useContext)(h).getWordleInterface(),t=Object(a.useState)(!0),n=Object(d.a)(t,2),c=n[0],s=n[1],u=Object(a.useState)(-1),l=Object(d.a)(u,2),o=l[0],i=l[1];Object(a.useEffect)((function(){e.getAccountBalance().then((function(e){i(e),s(!1)}))}));return c?r.a.createElement("div",null,"Loading ..."):r.a.createElement("div",{id:"payout"},r.a.createElement("div",{id:"balance-container"},"Your balance",r.a.createElement("br",null),r.a.createElement("span",{id:"balance"},Number(o)/Math.pow(10,18))),o>0&&r.a.createElement("button",{id:"withdraw",onClick:function(){e.withdrawOutstandingBalance().then((function(e){alert(JSON.stringify(e))})).catch((function(e){alert("error"),console.log(e)}))}},"Withdraw"))},A=n(189),C=n.n(A),j=function(){var e=Object(a.useContext)(h),t=e.getWordleInterface(),n=Object(a.useState)(e.getPlayer()),c=Object(d.a)(n,2),s=c[0],u=(c[1],Object(a.useState)(s.userGuessState)),i=Object(d.a)(u,2),m=i[0],f=(i[1],Object(a.useState)(!1)),E=Object(d.a)(f,2),b=E[0],p=E[1],g=Object(a.useState)(""),v=Object(d.a)(g,2),S=v[0],N=v[1],x=function(){var t=Object(o.a)(l.a.mark((function t(){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getPlayer().results.length,a=e.getPlayer().solved,t.abrupt("return",a||6===n&&0==e.getPlayer().userGuessState);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=Object(a.useState)(1),j=Object(d.a)(A,2),k=(j[0],j[1]),I=Object(a.useState)(-1),G=Object(d.a)(I,2),T=G[0],y=G[1];Object(a.useEffect)((function(){x().then((function(e){y(e),k(0)})),!b&&Number(m)&&t.pollGuessResult().then((function(n){t.getPlayerState().then((function(t){e.setPlayer(t),window.location.reload(!1)}))}))}),[s]);var L=function(){!function(e){var t=e.toUpperCase();return!(!O.words.includes(t)||5!==t.length||!/^[a-zA-Z]+$/.test(t))}(S)?alert("invalid guess"):(p(!0),t.makeGuess(S).then((function(e){console.log(e),window.location.reload(!1)})).catch((function(e){console.log("error"),console.log(e),p(!1)})))},P=function(){return r.a.createElement("div",{className:"full-width"},r.a.createElement("button",{id:"make-guess",disabled:!0},"Getting Result ..."))},U=function(){return r.a.createElement("div",{className:"full-width"},r.a.createElement("button",{id:"make-guess",disabled:!0},"Guessing ..."))};return T?r.a.createElement("div",{className:"half-width"},r.a.createElement(w,{guesses:s.guesses,results:s.results}),r.a.createElement("br",null),r.a.createElement(R,null)):r.a.createElement("div",{className:"half-width"},r.a.createElement("div",{className:"full-width"},r.a.createElement(w,{guesses:s.guesses,results:s.results}),r.a.createElement("div",{className:"separator"})),b?r.a.createElement(U,null):Number(s.userGuessState)?r.a.createElement(P,null):r.a.createElement("div",null,r.a.createElement(C.a,{amount:5,autoFocus:!0,handleOutputString:function(e){N(e.toUpperCase())},inputProps:[{className:"guess-input"},{className:"guess-input"},{className:"guess-input"},{className:"guess-input"},{className:"guess-input"}],inputRegExp:/^[a-zA-Z]$/}),r.a.createElement("br",null),r.a.createElement("button",{id:"make-guess",onClick:function(){return L()}},"Submit Guess")))},k=function(){var e=Object(a.useContext)(h).getWordleInterface();return r.a.createElement("div",{className:"half-width"},r.a.createElement(v,null),r.a.createElement("br",null),r.a.createElement("button",{id:"signup-button",onClick:function(){return e.signUp()}},"Play"),r.a.createElement("div",{className:"separator"}),r.a.createElement(R,null))};var I=function(){var e=Object(a.useContext)(h),t=e.getPlayer().enabled,n=Number(e.getPlayer().currGameState);return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"full-width"},r.a.createElement(N,null),r.a.createElement("br",null),n?t?r.a.createElement(j,null):r.a.createElement(k,null):r.a.createElement("div",{className:"full-width"},r.a.createElement(v,null),r.a.createElement(R,null))))},G=n(3),T=function(e){return new Promise((function(t){return setTimeout(t,e)}))},y=function e(t,n,a){var r=this;Object(G.a)(this,e),this.signUp=function(){r.wordleContract.methods.signUp().send({value:1e17,from:r.account}).then((function(e){console.log(e)})).catch((function(e){console.log("error"),console.log(e)}))},this.makeGuess=function(){var e=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.wordleContract.methods.makeGuess(t.toUpperCase()).send({from:r.account});case 2:return n=e.sent,console.log("Make Guess Txn"),console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.pollGuessResult=Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(t){e.next=19;break}return e.prev=2,e.next=5,r.getGuessResultCall();case 5:return e.sent,e.next=8,r.getGuessResultSend();case 8:n=e.sent,t=1,e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(2),e.next=16,T(1e4);case 16:console.log(e.t0);case 17:e.next=1;break;case 19:return e.abrupt("return",n);case 20:case"end":return e.stop()}}),e,null,[[2,12]])}))),this.getPlayerState=Object(o.a)(l.a.mark((function e(){var t,n,a,c,s,u,o,i,d,m,f,E,b,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.wordleContract.methods.enabled(r.account).call();case 2:return t=e.sent,e.next=5,r.wordleContract.methods.solved(r.account).call();case 5:return n=e.sent,e.next=8,r.wordleContract.methods.numberOfGuesses(r.account).call();case 8:return a=e.sent,e.next=11,r.wordleContract.methods.guessState(r.account).call();case 11:return c=e.sent,e.next=14,r.wordleContract.methods.currGameState().call();case 14:s=e.sent,u=[],o=[],i=0;case 18:if(!(i<=a)){e.next=27;break}if(i==Number(a)&&1!==Number(c)){e.next=24;break}return e.next=22,r.wordleContract.methods.userGuesses(r.account,i).call();case 22:d=e.sent,u.push(d);case 24:i++,e.next=18;break;case 27:m=0;case 28:if(!(m<a)){e.next=43;break}f=[],E=0;case 31:if(!(E<5)){e.next=39;break}return e.next=34,r.wordleContract.methods.guessStore(r.account,m,E).call();case 34:b=e.sent,f.push(b);case 36:E++,e.next=31;break;case 39:o.push(f);case 40:m++,e.next=28;break;case 43:return h={enabled:t,solved:n,numberOfGuesses:a,userGuessState:Number(c),guesses:u,results:o,currGameState:s},console.log(h),e.abrupt("return",h);case 46:case"end":return e.stop()}}),e)}))),this.getGuessResultCall=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.wordleContract.methods.getGuessResult().call({from:r.account});case 2:return t=e.sent,console.log("Get Result Dry Run"),console.log(t),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))),this.getGuessResultSend=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.wordleContract.methods.getGuessResult().send({from:r.account});case 2:return t=e.sent,console.log("Get Result Reak Run"),console.log(t),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))),this.isSolved=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.wordleContract.methods.solved(r.account).call({from:r.account});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),this.getAccountBalance=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.wordleContract.methods.getOutstandingBalance().call({from:r.account});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),this.withdrawOutstandingBalance=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.wordleContract.methods.receiveOutstandingBalance().send({from:r.account});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),this.web3=t,this.wordleContract=n,this.account=a},L=function(){return r.a.createElement("div",null,"Disconnected")},P={web3:null,accounts:null,chainid:null,wordleInterface:null,player:null,loading:!0},U=function(){var e=Object(a.useState)(P),t=Object(d.a)(e,2),c=t[0],s=t[1],u={getAccounts:function(){return c.accounts},getActiveAccount:function(){return c.accounts[0]},getChainId:function(){return c.chainid},getWordleInterface:function(){return c.wordleInterface},getState:function(){return c},getPlayer:function(){return c.player},setPlayer:function(e){s(Object(i.a)(Object(i.a)({},c),{},{player:e}))}};return Object(a.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){var t,a,r,u,o,d,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return t=e.sent,e.prev=3,e.next=6,E();case 6:return e.sent.enable(),e.next=10,t.eth.getAccounts();case 10:if(a=e.sent,!S(a)){e.next=29;break}return e.t0=parseInt,e.next=15,t.eth.getChainId();case 15:return e.t1=e.sent,r=(0,e.t0)(e.t1),e.next=19,n.e(3).then(n.t.bind(null,472,3));case 19:return u=e.sent,o=new t.eth.Contract(u.abi,"0x99e1978d0ffB5c86AF2C12B29817682282397CF2"),d=new y(t,o,a[0]),e.next=24,d.getPlayerState();case 24:m=e.sent,console.log(m),s({accounts:a,web3:t,chainid:r,wordleInterface:d,player:m,loading:!1}),e.next=30;break;case 29:s(Object(i.a)(Object(i.a)({},c),{},{loading:!1}));case 30:e.next=37;break;case 32:e.prev=32,e.t2=e.catch(3),console.log("Could not enable accounts. Interaction with contracts not available.\n                Use a modern browser with a Web3 plugin to fix this issue."),console.log(e.t2),s(Object(i.a)(Object(i.a)({},c),{},{loading:!1}));case 37:case"end":return e.stop()}}),e,null,[[3,32]])})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(h.Provider,{value:u},c.loading?r.a.createElement(x,null):c.web3&&c.chainid?r.a.createElement(I,null):r.a.createElement(L,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},93:function(e,t,n){}},[[194,1,2]]]);
//# sourceMappingURL=main.946bb498.chunk.js.map